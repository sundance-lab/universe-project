<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <title>Galaxies Reimagined</title>
</head>
<body>
    <div class="screen-container">

<div id="galaxy-detail-screen" class="screen active">
    <div id="galaxy-detail-title-container" class="editable-title-container">
        <span id="galaxy-detail-title-text" class="editable-title-text">Galaxy</span>
        <input type="text" id="galaxy-detail-title-input" class="editable-title-input">
    </div>
    <div id="galaxy-canvas-container" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>

</div>


<div id="solar-system-screen" class="screen">

  <div id="solar-system-title-container" class="editable-title-container">
    <span id="solar-system-title-text" class="editable-title-text">System</span>
    <input type="text" id="solar-system-title-input" class="editable-title-input">
  </div>

  <div id="solar-system-content">
  </div>

  <div id="planet-sidebar">
    <h4 id="planet-sidebar-title">Planets</h4>
    <ul id="planet-sidebar-list">
      </ul>
  </div>
  <button class="back-button" id="back-to-galaxy">&larr; Galaxy</button>
</div>

<div id="surface-screen" class="screen">
    <canvas id="surface-canvas"></canvas>
    <div class="surface-controls">
        <button class="back-button" id="back-to-system">← System View</button>
    </div>
</div>

<div id="planet-designer-screen" class="screen">
            <div class="designer-panel">
                <div class="designer-controls">
                    <h3>Planet Colors</h3>
                    <div class="color-control">
                        <label for="designer-water-color">Water Color:</label>
                        <input type="color" id="designer-water-color" class="designer-control" value="#000080">
                    </div>
                    <div class="color-control">
                        <label for="designer-land-color">Land Color:</label>
                        <input type="color" id="designer-land-color" class="designer-control" value="#006400">
                    </div>

          <div class="designer-range-control">
              <label for="designer-river-basin">River Basin Width</label>
              <div class="input-row">
                  <input type="range" id="designer-river-basin" class="designer-control" min="0.00" max="0.15" step="0.01" value="0.05" style="width: 100%;">
                  <span id="designer-river-basin-value" style="min-width: 30px; text-align: right;">0.05</span>
              </div>
          </div>

          <div class="designer-range-control">
              <label for="designer-forest-density">Forest Density</label>
              <div class="input-row">
                 <input type="range" id="designer-forest-density" class="designer-control" min="0.1" max="0.9" step="0.05" value="0.5" style="width: 100%;">
                  <span id="designer-forest-density-value" style="min-width: 30px; text-align: right;">0.5</span>
              </div>
          </div>

              <div id="designer-height-controls" style="display:flex; flex-direction:column; gap:0.5em;">
                <label>
                  Terrain Min Height:
                  <input type="number" id="designer-min-height" class="designer-control" value="0.0" step="0.1" min="-100" max="100">
                </label>
                <label>
                  Terrain Max Height:
                  <input type="number" id="designer-max-height" class="designer-control" value="10.0" step="0.1" min="-100" max="100">
                </label>
                <label>
                  Ocean Height:
                  <input type="number" id="designer-ocean-height" class="designer-control" value="2.0" step="0.1" min="-100" max="100">
                </label>
              </div>
                    <div class="saved-designs-list">
                        <h4>Saved Designs:</h4>
                        <ul id="saved-designs-ul">
                        </ul>
                    </div>
                </div>

                <div class="designer-preview">
                    <canvas id="designer-planet-canvas" width="300" height="300"></canvas>
                </div>
            </div>

            <div class="designer-actions-fixed">
                <button id="designer-randomize-btn" class="modal-button-apply">Randomize</button>
                <button id="designer-explore-btn" class="modal-button-apply">Explore Surface</button>
                <button id="designer-save-btn" class="modal-button-apply">Save Design</button>
                <button id="designer-cancel-btn" class="modal-button-cancel">Back</button>
            </div>
        </div>
<div id="hex-planet-screen" class="screen">
  <canvas id="hex-planet-canvas"></canvas>
  <div class="hex-controls">
    <button class="back-button" id="back-from-hex-view">← Back</button>
  </div>
</div>
</div>

<div class="controls-overlay">
    <button id="dev-panel-btn" class="control-button">Dev Panel</button>
    <button id="spawn-character-btn" class="control-button">Spawn Character</button>
</div>

<div id="dev-panel-modal" class="modal-overlay">
    <div class="modal-content">
        <h2>Dev Panel</h2>

        <div class="control-group">
            <h3>Actions</h3>
            <div class="panel-actions-container">
              <button id="panel-regenerate-universe-btn" class="panel-action-btn">Generate New Universe</button>
              <button id="panel-open-planet-designer-btn" class="panel-action-btn">Create Planet Designs</button>
              <button id="panel-open-galaxy-customizer-btn" class="panel-action-btn">Customize Galaxy</button>
            </div>
        </div>

        <div class="control-group">
            <label><strong>Universe Settings</strong> (Requires New Universe)</label>
            <div class="input-row">
                <label for="dev-min-planets">Planets per System:</label>
                <input type="number" id="dev-min-planets" min="1" max="20" placeholder="Min">
                <span>to</span>
                <input type="number" id="dev-max-planets" min="1" max="20" placeholder="Max">
            </div>
        </div>

        <div class="control-group">
            <label><strong>View Settings</strong> (Applied Dynamically)</label>
            <label for="dev-orbit-speed">Planet Orbit Speed Multiplier:</label>
            <div class="input-row">
                <input type="range" id="dev-orbit-speed" min="0" max="10" step="0.1" value="1.0" style="flex-grow: 1;">
                <span id="dev-orbit-speed-value" style="min-width: 30px; text-align: right;">1.0</span>
            </div>
            <label for="dev-ship-speed">Ship Max Speed:</label>
            <div class="input-row">
                <input type="range" id="dev-ship-speed" min="1000" max="50000" step="500" value="7500" style="flex-grow: 1;">
                <span id="dev-ship-speed-value" style="min-width: 60px; text-align: right;">7500</span>
            </div>
             <label class="checkbox-label">
                <input type="checkbox" id="dev-orbit-lines-visible"> Show Orbit Lines
            </label>
            <label for="dev-landing-icon-size">Landing Icon Size Multiplier:</label>
            <div class="input-row">
                <input type="range" id="dev-landing-icon-size" min="0.05" max="1.0" step="0.01" value="0.25" style="flex-grow: 1;">
                <span id="dev-landing-icon-size-value" style="min-width: 40px; text-align: right;">0.25</span>
            </div>
        </div>

        <div class="modal-actions">
            <button id="dev-panel-cancel" class="modal-button-cancel">Close</button>
            <button id="dev-panel-save" class="modal-button-apply">Save Settings</button>
        </div>
    </div>
</div>

<div id="landing-confirmation-panel" class="modal-overlay">
    <div class="modal-content" style="min-width: 300px; max-width: 400px; height: auto; text-align: center;">
        <h3 id="landing-question-text">Land on Planet?</h3>
        <div class="modal-actions" style="margin-top: 25px; justify-content: center;">
            <button id="landing-btn-no" class="modal-button-cancel">No</button>
            <button id="landing-btn-yes" class="modal-button-apply">Yes</button>
        </div>
    </div>
</div>

<div id="galaxy-customization-modal" class="modal-overlay">
    <div class="modal-content">
        <h2>Customize Galaxy Generation</h2>

        <div class="control-group">
            <h3>General Shape</h3>
            <label for="galaxy-radius">Radius:</label>
            <input type="number" id="galaxy-radius" class="galaxy-control" min="100" max="5000" step="100">
            <label for="galaxy-thickness">Thickness:</label>
            <input type="number" id="galaxy-thickness" class="galaxy-control" min="10" max="500" step="10">
            <label for="galaxy-core-radius">Core Radius:</label>
            <input type="number" id="galaxy-core-radius" class="galaxy-control" min="50" max="1000" step="50">
            <label for="galaxy-num-arms">Number of Arms:</label>
            <input type="number" id="galaxy-num-arms" class="galaxy-control" min="1" max="10" step="1">
            <label for="galaxy-arm-rotation-multiplier">Arm Rotation Multiplier:</label>
            <input type="number" id="galaxy-arm-rotation-multiplier" class="galaxy-control" min="0.1" max="10.0" step="0.1">
        </div>

        <div class="control-group">
            <h3>Star Distribution</h3>
            <label for="galaxy-stars-decorative">Decorative Stars:</label>
            <input type="number" id="galaxy-stars-decorative" class="galaxy-control" min="10000" max="100000" step="1000">
            <label for="galaxy-stars-core">Core Stars:</label>
            <input type="number" id="galaxy-stars-core" class="galaxy-control" min="5000" max="50000" step="500">
            <label for="galaxy-stars-disk">Disk Stars:</label>
            <input type="number" id="galaxy-stars-disk" class="galaxy-control" min="100000" max="1000000" step="10000">
            <label for="galaxy-stars-halo">Halo Stars:</label>
            <input type="number" id="galaxy-stars-halo" class="galaxy-control" min="50000" max="500000" step="5000">
            <label for="galaxy-decorative-star-max-size">Decorative Star Max Size:</label>
            <input type="number" id="galaxy-decorative-star-max-size" class="galaxy-control" min="1" max="50" step="1">
            <label for="galaxy-decorative-star-min-size">Decorative Star Min Size:</label>
            <input type="number" id="galaxy-decorative-star-min-size" class="galaxy-control" min="1" max="20" step="1">
        </div>

        <div class="control-group">
            <h3>Environmental Elements (Dust & Nebulae)</h3>
            <label for="galaxy-dust-count">Dust Count:</label>
            <input type="number" id="galaxy-dust-count" class="galaxy-control" min="1000" max="50000" step="500">
            <label for="galaxy-dust-size">Dust Size:</label>
            <input type="number" id="galaxy-dust-size" class="galaxy-control" min="10" max="500" step="10">
            <label for="galaxy-dust-opacity">Dust Opacity:</label>
            <input type="range" id="galaxy-dust-opacity" class="galaxy-control" min="0.0" max="1.0" step="0.05">

            <label for="galaxy-nebula-cluster-count">Nebula Cluster Count:</label>
            <input type="number" id="galaxy-nebula-cluster-count" class="galaxy-control" min="10" max="200" step="10">
            <label for="galaxy-nebula-particle-count-per-cluster">Nebula Particles Per Cluster:</label>
            <input type="number" id="galaxy-nebula-particle-count-per-cluster" class="galaxy-control" min="5" max="50" step="1">
            <label for="galaxy-nebula-size">Nebula Size:</label>
            <input type="number" id="galaxy-nebula-size" class="galaxy-control" min="50" max="1000" step="50">
            <label for="galaxy-nebula-opacity">Nebula Opacity:</label>
            <input type="range" id="galaxy-nebula-opacity" class="galaxy-control" min="0.0" max="1.0" step="0.05">
        </div>

        <div class="control-group">
            <h3>Distant Objects</h3>
            <h4>Distant Galaxies</h4>
            <label for="galaxy-distant-galaxies-count">Count:</label>
            <input type="number" id="galaxy-distant-galaxies-count" class="galaxy-control" min="10" max="500" step="10">
            <label for="galaxy-distant-galaxies-min-scale">Min Scale:</label>
            <input type="number" id="galaxy-distant-galaxies-min-scale" class="galaxy-control" min="10" max="1000" step="10">
            <label for="galaxy-distant-galaxies-max-scale">Max Scale:</label>
            <input type="number" id="galaxy-distant-galaxies-max-scale" class="galaxy-control" min="100" max="2000" step="10">
            <label for="galaxy-distant-galaxies-min-opacity">Min Opacity:</label>
            <input type="range" id="galaxy-distant-galaxies-min-opacity" class="galaxy-control" min="0.0" max="1.0" step="0.05">
            <label for="galaxy-distant-galaxies-max-opacity">Max Opacity:</label>
            <input type="range" id="galaxy-distant-galaxies-max-opacity" class="galaxy-control" min="0.0" max="1.0" step="0.05">
            <label for="galaxy-distant-galaxies-min-distance-multiplier">Min Distance Multiplier (x GALAXY_RADIUS):</label>
            <input type="number" id="galaxy-distant-galaxies-min-distance-multiplier" class="galaxy-control" min="1" max="20" step="1">
            <label for="galaxy-distant-galaxies-max-distance-addition">Max Distance Addition:</label>
            <input type="number" id="galaxy-distant-galaxies-max-distance-addition" class="galaxy-control" min="1000" max="20000" step="500">

            <h4>Sister Galaxy</h4>
            <label for="galaxy-sister-star-count">Star Count:</label>
            <input type="number" id="galaxy-sister-star-count" class="galaxy-control" min="10000" max="200000" step="1000">
            <label for="galaxy-sister-radius-multiplier">Radius Multiplier (x GALAXY_RADIUS):</label>
            <input type="number" id="galaxy-sister-radius-multiplier" class="galaxy-control" min="0.1" max="2.0" step="0.05">
            <label for="galaxy-sister-thickness-multiplier">Thickness Multiplier (x THICKNESS):</label>
            <input type="number" id="galaxy-sister-thickness-multiplier" class="galaxy-control" min="0.1" max="2.0" step="0.05">
            <label for="galaxy-sister-displacement-multiplier">Displacement Multiplier:</label>
            <input type="number" id="galaxy-sister-displacement-multiplier" class="galaxy-control" min="0.0" max="1.0" step="0.05">
            <label for="galaxy-sister-particle-size">Particle Size:</label>
            <input type="number" id="galaxy-sister-particle-size" class="galaxy-control" min="1" max="50" step="1">
            <label for="galaxy-sister-opacity">Opacity:</label>
            <input type="range" id="galaxy-sister-opacity" class="galaxy-control" min="0.0" max="1.0" step="0.05">
        </div>

        <div class="control-group">
            <h3>Rendering & Camera</h3>
            <label for="galaxy-camera-fov">Camera FOV:</label>
            <input type="number" id="galaxy-camera-fov" class="galaxy-control" min="30" max="120" step="1">
            <label for="galaxy-camera-near">Camera Near Plane:</label>
            <input type="number" id="galaxy-camera-near" class="galaxy-control" min="0.1" max="100" step="0.1">
            <label for="galaxy-camera-far">Camera Far Plane:</label>
            <input type="number" id="galaxy-camera-far" class="galaxy-control" min="10000" max="100000" step="1000">
            <label for="galaxy-controls-damping-factor">Controls Damping Factor:</label>
            <input type="range" id="galaxy-controls-damping-factor" class="galaxy-control" min="0.01" max="0.2" step="0.01">
            <label for="galaxy-controls-min-distance">Controls Min Distance:</label>
            <input type="number" id="galaxy-controls-min-distance" class="galaxy-control" min="10" max="500" step="10">
            <label for="galaxy-controls-max-distance-multiplier">Controls Max Distance Multiplier (x GALAXY_RADIUS):</label>
            <input type="number" id="galaxy-controls-max-distance-multiplier" class="galaxy-control" min="1" max="10" step="0.1">
            <label for="galaxy-rotation-speed">Overall Galaxy Rotation Speed:</label>
            <input type="range" id="galaxy-rotation-speed" class="galaxy-control" min="0.00001" max="0.001" step="0.00001">
        </div>

        <div class="control-group">
            <h3>Colors</h3>
            <label for="galaxy-color-star-texture-color">Star Texture Color:</label>
            <input type="color" id="galaxy-color-star-texture-color" class="galaxy-control">
            <label for="galaxy-color-core-glow-color">Core Glow Color:</label>
            <input type="color" id="galaxy-color-core-glow-color" class="galaxy-control">
            <label for="galaxy-color-dust-color-stop-0">Dust Color Stop 0:</label>
            <input type="color" id="galaxy-color-dust-color-stop-0" class="galaxy-control">
            <label for="galaxy-color-dust-color-stop-04">Dust Color Stop 0.4:</label>
            <input type="color" id="galaxy-color-dust-color-stop-04" class="galaxy-control">
            <label for="galaxy-color-nebula-color-stop-0">Nebula Color Stop 0:</label>
            <input type="color" id="galaxy-color-nebula-color-stop-0" class="galaxy-control">
            <label for="galaxy-color-nebula-color-stop-04">Nebula Color Stop 0.4:</label>
            <input type="color" id="galaxy-color-nebula-color-stop-04" class="galaxy-control">
            <label for="galaxy-color-background-star-color">Background Star Color:</label>
            <input type="color" id="galaxy-color-background-star-color" class="galaxy-control">
            <label for="galaxy-color-skybox-color">Skybox Color:</label>
            <input type="color" id="galaxy-color-skybox-color" class="galaxy-control">

            <button id="galaxy-randomize-palette-btn" class="modal-button-apply">Randomize Star Palette</button>
        </div>

        <div class="modal-actions">
            <button id="galaxy-randomize-all-btn" class="modal-button-apply">Randomize All</button>
            <button id="galaxy-save-design-btn" class="modal-button-apply">Save Design</button>
            <button id="galaxy-load-design-btn" class="modal-button-apply">Load Design</button>
            <button id="galaxy-cancel-btn" class="modal-button-cancel">Cancel</button>
            <button id="galaxy-apply-btn" class="modal-button-apply">Apply</button>
        </div>

        <div class="saved-designs-list">
            <h4>Saved Galaxy Designs:</h4>
            <ul id="saved-galaxy-designs-ul">
            </ul>
        </div>
    </div>
</div>

<script type="module" src="js/script.js"></script>

</body>
</html>
